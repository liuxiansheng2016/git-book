# 常见的生命周期钩子

## **`ngOnChanges`**

* **接口**: `OnChanges`
* **触发时机**:
  * 在输入属性（`@Input`）的绑定值发生变化时触发。
  * 在组件初始化时（即使输入值没有变化）至少触发一次。
* **常见用途**:
  * 响应输入属性的变化。
  * 初始化基于输入属性的逻辑。

## **`ngOnInit`**

* **接口**: `OnInit`
* **触发时机**:
  * 在组件初始化时（第一次显示时）触发。
  * 仅触发一次。
* **常见用途**:
  * 初始化组件所需的数据（例如从服务加载数据）。
  * 执行一次性初始化逻辑。

## **`ngDoCheck`**

* **触发时机**：在每个变更检测周期中调用，包括 `ngOnChanges` 和 `ngOnInit` 之后。
* **用途**：用于实现自定义的变更检测逻辑，当 Angular 无法自动检测到某些数据变化时，可以在这个钩子中手动处理。

1. **处理不可观察的数据变化**：当你需要监听那些不会触发 Angular 默认变更检测的数据变化时（例如，一个对象内部属性的变化，而引用没有改变），你可以使用 `ngDoCheck` 来手动检查这些变化。
2. **优化性能**：虽然不常见，但在一些性能关键的应用中，开发者可能会利用 `ngDoCheck` 来实现更为精细或高效的变更检测逻辑，从而避免不必要的视图更新。
3. **第三方库集成**：在与某些第三方库或服务交互时，如果它们的状态变化无法直接通过 Angular 的绑定和变更检测机制捕获，你可能需要在 `ngDoCheck` 中添加自定义逻辑来同步组件状态。

## **`ngAfterContentInit`**

* **接口**: `AfterContentInit`
* **触发时机**:
  * 在外部内容（投影内容）插入到组件视图后触发。
  * 仅触发一次。
* **常见用途**:
  * 初始化投影内容相关的逻辑。
  * 获取投影内容的引用。

## **`ngAfterViewInit`**

* **接口**: `AfterViewInit`
* **触发时机**:
  * 在组件视图（以及子视图）初始化后触发。
  * 仅触发一次。
* **常见用途**:
  * 获取视图或子组件的引用。
  * 初始化与视图相关的逻辑。

## **`ngOnDestroy`**

* **接口**: `OnDestroy`
* **触发时机**:
  * 在组件销毁之前触发。
  * 仅触发一次。
* **常见用途**:
  * 清理资源（如取消订阅、移除事件监听器、销毁计时器等）。
  * 避免内存泄漏。

##
